<html>
	<head>
		<title>Icestudio</title>
	</head>
	<body
		ng-app="app"
		ng-controller="AppCtrl"
		mouse-capture
		ng-keydown="keyDown($event)"
		ng-keyup="keyUp($event)"
		>
		<div style="width: 100%; overflow: hidden;">
			<!--<div style="width: 300px; float: left;">
 				<textarea
					style="width: 100%; height: 100%;"
					chart-json-edit
					view-model="chartViewModel"
					>
				</textarea>
			</div>-->
			<div class="menu">
				<div class="control">
					<div class="dropdown">
						<button class="dropbtn">File</button>
						<div class="dropdown-content">
							<div class="item" ng-click="load()" title="Load main.json">Load</div>
							<div class="item" ng-click="save()" title="Save main.json">Save</div>
							<div class="item" ng-click="reset()" title="Reset main.json">Reset</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">Edit</button>
						<div class="dropdown-content">
							<div class="item" ng-click="deleteSelected()" title="Delete selected">Delete selected</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">View</button>
						<div class="dropdown-content">
							<div class="item" ng-click="toggleEditor()" title="View block code">Code</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn" ng-click="build()" title="Build project into bitstream"
						>Build</button>
					</div>
					<div class="dropdown">
						<button class="dropbtn" ng-click="upload()" title="Upload bitstream to FPGA"
						>Upload</button>
					</div>
				</div>
				<div class="blocks">
					<div class="dropdown">
						<button class="dropbtn">Bit</button>
						<div class="dropdown-content">
							<div class="item" ng-click="addNewDriver0Node()" title="">0</div>
							<div class="item" ng-click="addNewDriver1Node()" title="">1</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">I/O</button>
						<div class="dropdown-content">
							<div class="item" ng-click="addNewInputNode()" title="">Input</div>
							<div class="item" ng-click="addNewOutputNode()" title="">Output</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">Logic</button>
						<div class="dropdown-content">
							<div class="item" ng-click="addNewNotNode()" title="">Not</div>
							<div class="item" ng-click="addNewAndNode()" title="">And</div>
							<div class="item" ng-click="addNewOrNode()" title="">Or</div>
							<div class="item" ng-click="addNewXorNode()" title="">Xor</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">Comb</button>
						<div class="dropdown-content">
							<div class="item" ng-click="addNewMuxNode()" title="">Mux</div>
							<div class="item" ng-click="addNewDecNode()" title="">Dec</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">Sec</button>
						<div class="dropdown-content">
							<div class="item" ng-click="addNewDivNode()" title="">Div</div>
							<div class="item" ng-click="addNewCounterNode()" title="">Counter</div>
							<div class="item" ng-click="addNewFlipflopNode()" title="">Flipflop</div>
							<div class="item" ng-click="addNewNotesNode()" title="">Notes</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">Label</button>
						<div class="dropdown-content">
							<div class="item" ng-click="addNewLabelInputNode()" title="">Input</div>
							<div class="item" ng-click="addNewLabelOutputNode()" title="">Output</div>
						</div>
					</div>
					<div class="dropdown">
						<button class="dropbtn">Pinout</button>
						<div class="dropdown-content">
							<div class="item" ng-click="pinout()" title="View Icestick pinout">Icestick</div>
						</div>

					</div>
				</div>
			</div>
		    <flow-chart class="flow"
	    		style="color: white; margin: 0px; width: 105%; height: 95%;"
		      	chart="chartViewModel"
		      	>
		    </flow-chart>
			<div id="editor" ></div>
            <div id="pinout">
                <img src="img/icestick_pinout.png" id="pinout-img" data-zoom-image="img/icestick_pinout.png">
            </div>
	   </div>

		<!-- BQ logo. -->
		<div id="BQLogo" class="overlay">
			<img src="img/bq-logo.png">
		</div>

		<!-- Warning -->
		<div id="warning" class="warning">
			Warning: experimental code. Use with caution!
		</div>

		<link rel="stylesheet" type="text/css" href="style/app.css">
		<link rel="stylesheet" type="text/css" href="style/menu.css">
		<link rel="stylesheet" type="text/css" href="style/sweetalert.css">
		<link rel="stylesheet" type="text/css" href="style/alertify.core.css">
		<link rel="stylesheet" type="text/css" href="style/alertify.bootstrap.css">

		<!-- Library code. -->
		<script src="lib/jquery-2.0.2.js" type="text/javascript"></script>
		<script src="lib/jquery.elevateZoom-3.0.8.min.js" type="text/javascript"></script>
		<script src="lib/angular.js" type="text/javascript"></script>
		<script src="lib/sweetalert.min.js" type="text/javascript"></script>
		<script src="lib/alertify.min.js" type="text/javascript"></script>
		<script src="lib/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

		<!-- Flowchart code. -->
		<script src="flowchart/svg_class.js" type="text/javascript"></script>
		<script src="flowchart/mouse_capture_service.js" type="text/javascript"></script>
		<script src="flowchart/dragging_service.js" type="text/javascript"></script>
		<script src="flowchart/flowchart_viewmodel.js" type="text/javascript"></script>
		<script src="flowchart/flowchart_directive.js" type="text/javascript"></script>

		<!-- App code. -->
		<script src="js/app.js" type="text/javascript"></script>
		<script src="js/blocks/bit/bit.js" type="text/javascript"></script>
		<script src="js/blocks/io/io.js" type="text/javascript"></script>
		<script src="js/blocks/logic/logic.js" type="text/javascript"></script>
		<script src="js/blocks/comb/comb.js" type="text/javascript"></script>
		<script src="js/blocks/sec/sec.js" type="text/javascript"></script>
		<script src="js/blocks/label/label.js" type="text/javascript"></script>
		<script src="js/blocks/pintout/pinout.js" type="text/javascript"></script>

		<!-- Editor -->
		<script>
			var editor = ace.edit("editor");
			editor.setReadOnly(true);
			editor.setTheme("ace/theme/chrome");
			editor.getSession().setMode("ace/mode/verilog");
			document.getElementById('editor').style.fontSize='15px';
		</script>

        <!-- Zoom -->
        <script>
            $("#pinout-img").elevateZoom({
                zoomType : "lens",
                lensShape : "round",
                lensSize : 200
            });
        </script>
	</body>
</html>
